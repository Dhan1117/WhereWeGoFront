/* AiPlannerBanner.scss */
.ai-banner {
  position: relative;
  width: 100%;
  --banner-min-h: clamp(420px, 58vh, 700px);
  min-height: var(--banner-min-h);
  overflow: hidden;
  border-radius: 24px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.16);
  isolation: isolate;

  /* 배경 */
  &__bg {
    position: absolute; inset: 0; z-index: 0;

    .ai-banner__bg-img {
      position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;
      opacity: 0; transform: scale(1.04);
      transition: opacity 800ms ease, transform 1600ms ease;
      filter: saturate(1.05) contrast(1.02) brightness(0.9);
      &.is-active { opacity: 1; transform: scale(1); }
    }

    .ai-banner__bg-gradient {
      position: absolute; inset: 0;
      background: linear-gradient(120deg,
        rgba(8,16,26,0.72) 0%,
        rgba(8,16,26,0.55) 40%,
        rgba(8,16,26,0.10) 70%,
        rgba(8,16,26,0) 100%);
      mix-blend-mode: multiply; pointer-events: none;
    }

    .ai-banner__shape-1, .ai-banner__shape-2 {
      position: absolute; width: 360px; height: 360px; border-radius: 50%;
      filter: blur(64px); opacity: 0.35; pointer-events: none; mix-blend-mode: screen;
    }
    .ai-banner__shape-1 { background: radial-gradient(closest-side, #61dafb, transparent 70%); bottom: -80px; left: -60px; }
    .ai-banner__shape-2 { background: radial-gradient(closest-side, #90caf9, transparent 70%); top: -100px; right: -80px; }
  }

  /* 컨텐츠 */
  &__content {
    position: relative; z-index: 1;
    display: flex; flex-direction: column; justify-content: center; /* 가운데로 */
    height: 100%;
    padding: clamp(20px, 3.5vw, 40px) clamp(20px, 4vw, 60px);
  }

  &__left {
    color: #fff;
    max-width: min(820px, 78vw);
    display: flex; flex-direction: column; gap: clamp(10px, 1.2vw, 16px);
  }

  /* 타이틀: 2줄까지 자연스럽게 */
  &__title {
    margin: 0;
    font-weight: 800 !important;
    line-height: 1.2 !important;
    letter-spacing: -0.3px;
    font-size: clamp(28px, 4.2vw, 48px) !important;
    text-shadow: 0 2px 10px rgba(0,0,0,0.35);

    white-space: normal;
    overflow: hidden;
    text-overflow: clip;
    word-break: keep-all;
    hyphens: none;

    display: -webkit-box;
    -webkit-line-clamp: 2; /* 최대 2줄 */
    -webkit-box-orient: vertical;

    text-wrap: balance; /* 지원 브라우저에서 균형 줄바꿈 */
  }

  &__subtitle {
    margin: 0;
    opacity: 0.95;
    font-size: clamp(14px, 1.6vw, 18px) !important;
    word-break: keep-all;
  }

  &__hashtags {
    margin-top: 4px;
    display: flex; flex-wrap: wrap; gap: 8px;
  }
  &__chip {
    white-space: nowrap;
    background: rgba(255,255,255,0.14) !important;
    color: #fff !important;
    border: 1px solid rgba(255,255,255,0.22) !important;
    backdrop-filter: blur(6px);
    font-weight: 600 !important;
  }

  &__cta {
    margin-top: 10px;
    display: flex; gap: 12px; flex-wrap: wrap; row-gap: 10px;
    .ai-banner__btn, .ai-banner__btn-secondary {
      white-space: nowrap; line-height: 1; min-height: 44px;
      padding: 12px 18px !important; border-radius: 14px !important; font-weight: 700 !important;
    }
    .ai-banner__btn-secondary {
      border-color: rgba(255,255,255,0.6) !important;
      color: #fff !important; background: rgba(255,255,255,0.08) !important; backdrop-filter: blur(6px);
    }
  }

  &__caption { margin-top: 6px; color:#fff; opacity: 0.85; }

  /* 하단 컨트롤 바(<> + dots) */
  &__controls {
    position: absolute; right: clamp(16px, 3vw, 28px); bottom: clamp(12px, 2.2vw, 20px);
    display: flex; align-items: center; gap: 10px;
    background: rgba(0,0,0,0.28); border: 1px solid rgba(255,255,255,0.25);
    padding: 8px 10px; border-radius: 999px; backdrop-filter: blur(6px);
  }
  .ctrl-btn {
    display: inline-flex; align-items: center; justify-content: center;
    width: 32px; height: 32px; border-radius: 50%; border: 0; cursor: pointer;
    background: rgba(0,0,0,0.35); color: #fff;
    transition: background .2s ease;
    &:hover { background: rgba(0,0,0,0.55); }
  }

  &__dots { display: flex; gap: 8px; }
  &__dot {
    width: 8px; height: 8px; border-radius: 50%; border: none; cursor: pointer;
    background: rgba(255,255,255,0.5); transition: transform .2s ease, background .2s ease;
    &.is-active { background: #fff; transform: scale(1.2); }
  }

  /* 반응형 */
  @media (max-width: 900px) {
    --banner-min-h: clamp(380px, 56vh, 620px);
    &__left { max-width: 92vw; }
    &__controls { right: 16px; bottom: 12px; }
  }

  @media (max-width: 640px) {
    &__cta { flex-direction: column; align-items: stretch; }
    &__cta .ai-banner__btn, &__cta .ai-banner__btn-secondary { width: 100%; justify-content: center; }
  }
}
